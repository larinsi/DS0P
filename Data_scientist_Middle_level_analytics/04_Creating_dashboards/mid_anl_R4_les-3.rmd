---
title: "Урок 3. Обзор возможностей Shiny: часть 2"
output:
  pdf_document: default
  html_document:
    df_print: paged
header-includes:
- \usepackage[russian]{babel}
- \usepackage{hyperref}
- \hypersetup{ colorlinks = true, urlcolor = blue}
---

Возьмем измененный нами в предыдущем уроке файл с кодом для гистограммы со слайдером для выбора числа столбцов. Дополним его еще одним элементом – выпадающим меню с выбором цвета гистограммы.

Это меню будет располагаться на боковой панели, поэтому код для его создания мы будем вписывать внутри. Если посмотреть документацию Shiny и их официальные тьюториалы, можно обнаружить, что для такого меню используется функция `selectInput()`. 

Вообще Shiny предлагает много вариантов для создания меню и прочих интерактивных элементов. Ссылку на документацию вы сможете найти в материалах к уроку и таким способом понять, какие еще способы визуализации предлагает нам Shiny. В этом модуле мы разберем основные и наиболее часто используемые.

Допишем функцию `selectInput()` и добавим аргументы: заголовок `Fill color:` и перечень опций в виде поименованного вектора `choices:`

```{r, eval=FALSE}
sidebarLayout(
      sidebarPanel(
         sliderInput("bins",
                     "Number of bins:",
                     min = 1,
                     max = 50,
                     value = 30),
         selectInput('ucolor', 'Fill color:', 
                  choices = c(`Red` = "red", 
                              `Yellow` = "yellow",
       		`Skyblue` = "skyblue")))
```

В векторе `choices` хранятся пары ключ-значение, где ключами являются названия цветов в том виде, как их будет видеть пользователь на странице в выпадающем меню, а значениями – названия цветов в R.

Теперь самое главное  — определим, что выбор пользователя в этом меню будет сохраняться в переменную `ucolor`. Как несложно догадаться, именно она будет фигурировать внутри `hist()` в функции `server()` в качестве цвета заливки.

Теперь перейдем к функции `server()` и внутри `hist()` укажем цвет `ucolor`, ту переменную, которую мы сами создали выше в `ui()` и назвали таким образом:

```{r, eval=FALSE}
hist(x, breaks = bins, col = input$ucolor, border = 'navy',
	main = "Waiting time between eruptions",
	xlab = "waiting", ylab = "counts")
```

Сохраним изменения в файле и запустим приложение (*Run app*).

Меняем цвет – выбирем другую опцию.
Работает! Теперь самое время перейти к практике и попробовать отредактировать дэшборд самим.

